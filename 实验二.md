# 实验二 多线程创建

## 一、实验目的
* Windows下使用CreateThread创建线程  
* 观察实现结果，学习线程的并发执行原理  

## 二、实验内容
### 1.编写多线程程序
* 前学习[CreateThread function](https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)   
* 复制[Examples代码](https://docs.microsoft.com/zh-cn/windows/win32/procthread/creating-threads)，调试执行程序。  
### 2.在命令行中多次执行该程序
* 观察到各线程执行顺序每次不同，所需时间均超过1000
![pic1](pic/多线程1.png)

### 3.修改代码，将程序改为单线程
* 注释MULTI_THREAD的宏定义
![pic2](pic/改为单线程.png)
* 再次调试执行程序

### 4.在命令行中多次执行当前修改后程序
* 观察到各线程执行顺序相同，随机性降低，所需总时间均超过1000*10
![pic3](pic/单线程1.png)

## 三、实验总结
### 1.多线程是指程序中包含多个执行流，即在一个程序中可以同时运行多个不同的线程来执行不同的任务，也就是说允许单个程序创建多个并行执行的线程来完成各自的任务。

### 2.单线程是程序执行时，所跑的程序路径（处理的东西）是连续顺序下来的，必须前面的处理好，后面的才会执行到。

### 3.线程切换是需要时间消耗的，所以采用一个拥有两个线程的进程执行所需要的时间比一个线程的进程执行两次所需要的时间要多一些。即采用多线程不会提高程序的执行速度，反而会降低速度，但是对于用户来说，可以减少用户的响应时间。